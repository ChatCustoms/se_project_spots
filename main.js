!function(){"use strict";var e="";const t={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},o=(e,t,o)=>{const n=t.id+"-error";e.querySelector("#"+n).textContent="",t.classList.remove(o.inputErrorClass)},n=(e,t,o)=>{(e=>e.some((e=>!e.validity.valid)))(e)?r(t,o):(t.disabled=!1,t.classList.remove(o.inactiveButtonClass))},r=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},a=e=>{document.querySelectorAll(e.formSelector).forEach((t=>{((e,t)=>{const r=Array.from(e.querySelectorAll(t.inputSelector)),a=e.querySelector(t.submitButtonSelector);n(r,a,t),r.forEach((c=>{c.addEventListener("input",(function(){((e,t,n)=>{t.validity.valid?o(e,t,n):((e,t,o,n)=>{const r=t.id+"-error";e.querySelector("#"+r).textContent=o,t.classList.add(n.inputErrorClass)})(e,t,t.validationMessage,n)})(e,c,t),n(r,a,t)}))}))})(t,e)}))};document.addEventListener("DOMContentLoaded",(()=>{a(t)}));var c=e+"images/logo.svg",s=e+"2fc47fd8e9a9bcd9612f.jpg",l=e+"images/pencil.svg",i=e+"images/plus.svg";new class{constructor(){}getInitialCards(){fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"eaa07941-85e8-4191-b5c0-cf5839401a76"}}).then((e=>e.json()))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"eaa07941-85e8-4191-b5c0-cf5839401a76","Content-Type":"application/json"}}).getInitialCards().then((e=>{console.log(e)})),document.getElementById("image-logo").src=c,document.getElementById("profile-avatar").src=s,document.getElementById("edit-profile-image").src=l,document.getElementById("plusImage").src=i;const d=document.querySelector(".profile__edit-button"),u=document.querySelector(".profile__add-button"),m=document.querySelector(".profile__name"),p=document.querySelector(".profile__description"),_=document.querySelector("#edit-profile-modal"),f=_.querySelector(".modal__form"),y=_.querySelector(".modal__close-button"),v=_.querySelector("#profile-name-input"),g=_.querySelector("#profile-description-input"),S=document.querySelector("#card-template"),h=document.querySelector(".cards__list"),b=document.querySelector("#add-card-modal"),q=b.querySelector(".modal__form"),E=b.querySelector(".modal__submit-button"),k=b.querySelector(".modal__close-button"),L=b.querySelector("#add-card-name-input"),w=b.querySelector("#add-card-link-input"),C=document.querySelector("#preview-modal"),x=C.querySelector(".modal__image"),z=C.querySelector(".modal__caption");function j(e){const t=S.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),n=t.querySelector(".card__image"),r=t.querySelector(".card__like-button"),a=t.querySelector(".card__close-button");return o.textContent=e.name,n.src=e.link,n.alt=e.name,r.addEventListener("click",(()=>{r.classList.toggle("card__like-button_liked")})),n.addEventListener("click",(()=>{A(C),x.src=e.link,z.textContent=e.name,x.alt=e.name})),a.addEventListener("click",(()=>{t.remove()})),t}function B(e){if("Escape"===e.key){const e=document.querySelector(".modal.modal_opened");e&&T(e)}}function I(e){if(!e.target.closest(".modal__content")){const e=document.querySelector(".modal.modal_opened");e&&T(e)}}function A(e){e.classList.add("modal_opened"),document.addEventListener("keydown",B),e.addEventListener("click",I)}function T(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",B),e.removeEventListener("click",I)}C.querySelector(".modal__close-button").addEventListener("click",(()=>{T(C),console.log(B)})),d.addEventListener("click",(()=>{var e,t;v.value=m.textContent,g.value=p.textContent,e=f,t={inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},[v,g].forEach((n=>{o(e,n,t)})),A(_)})),y.addEventListener("click",(()=>{T(_)})),u.addEventListener("click",(()=>{A(b)})),k.addEventListener("click",(()=>{T(b)})),f.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=v.value,p.textContent=g.value,T(_)})),q.addEventListener("submit",(function(e){e.preventDefault();const o=j({name:L.value,link:w.value});h.prepend(o),r(E,t),e.target.reset(),T(b)})),[{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Resturant Terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach((e=>{const t=j(e);h.prepend(t)})),a(t)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxZQUFjb0QsRUFBbUJxQyxNQUM3Q3pDLEVBQW1CaEQsWUFBY3FELEVBQTBCb0MsTUFDM0RQLEVBQVdqQyxFQUNiLElBbUNBUSxFQUFTbkMsaUJBQWlCLFVBakMxQixTQUE2QjBELEdBQzNCQSxFQUFJVSxpQkFDSixNQUNNdkIsRUFBY0YsRUFEQSxDQUFFUyxLQUFNZCxFQUFjNkIsTUFBT2QsS0FBTWQsRUFBYzRCLFFBRXJFbEMsRUFBVW9DLFFBQVF4QixHQUNsQnhELEVBQWMrQyxFQUFrQnhFLEdBQ2hDOEYsRUFBSUksT0FBT1EsUUFDWFYsRUFBVzFCLEVBQ2IsSUF2SXFCLENBQ25CLENBQ0VrQixLQUFNLGNBQ05DLEtBQU0sMkhBRVIsQ0FDRUQsS0FBTSxvQkFDTkMsS0FBTSxtSEFFUixDQUNFRCxLQUFNLGtCQUNOQyxLQUFNLHlIQUVSLENBQ0VELEtBQU0sNERBQ05DLEtBQU0sMkhBRVIsQ0FDRUQsS0FBTSw0QkFDTkMsS0FBTSwwSEFFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLDRIQTBJRzFELFNBQVM0RSxJQUNwQixNQUFNMUIsRUFBY0YsRUFBZTRCLEdBQ25DdEMsRUFBVW9DLFFBQVF4QixFQUFZLElBNkJoQ3JELEVBQWlCNUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMtbWFpbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLW1haW4vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy1tYWluLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLW1haW4vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy1tYWluLy4vc3JjL3NjcmlwdHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dJRCA9IGlucHV0RWwuaWQgKyBcIi1lcnJvclwiO1xuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBlcnJvck1zZ0lEKTtcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IGVycm9yTXNnO1xuICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG59O1xuXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGNvbmZpZykgPT4ge1xuICBjb25zdCBlcnJvck1zZ0lEID0gaW5wdXRFbC5pZCArIFwiLWVycm9yXCI7XG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihcIiNcIiArIGVycm9yTXNnSUQpO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dCkgPT4gIWlucHV0LnZhbGlkaXR5LnZhbGlkKTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlc2V0VmFsaWRhdGlvbiA9IChmb3JtRWwsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXQsIGNvbmZpZyk7XG4gIH0pO1xufTtcblxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWwucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG5cbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gIGVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xufSk7XG4iLCJpbXBvcnQgeyBlbmFibGVWYWxpZGF0aW9uLCBzZXR0aW5ncywgZGlzYWJsZUJ1dHRvbiwgcmVzZXRWYWxpZGF0aW9uIH0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBsb2dvU1JDIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcbmltcG9ydCBhdmF0YXJTUkMgZnJvbSBcIi4uL2ltYWdlcy9zcG90cy1hdmF0YXItYW5kLWNhcmQtaW1hZ2VzL2F2YXRhci5qcGdcIjtcbmltcG9ydCBwcm9maWxlSW1hZ2VTcmMgZnJvbSBcIi4uL2ltYWdlcy9wZW5jaWwuc3ZnXCI7XG5pbXBvcnQgcGx1c0ltYWdlU1JDIGZyb20gXCIuLi9pbWFnZXMvcGx1cy5zdmdcIjtcbmltcG9ydCBBUEkgZnJvbSBcIi4uL3NjcmlwdHMvQXBpLmpzXCI7XG5cbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiVmFsIFRob3JlbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMS1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlJlc3R1cmFudCBUZXJyYWNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzItcGhvdG8tYnktY2VpbGluZS1mcm9tLXBleGVscy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQW4gb3V0ZG9vciBjYWZlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzMtcGhvdG8tYnktdHViYW51ci1kb2dhbi1mcm9tLXBleGVscy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQSB2ZXJ5IGxvbmcgYnJpZGdlLCBvdmVyIHRoZSBmb3Jlc3QgYW5kIHRocm91Z2ggdGhlIHRyZWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzQtcGhvdG8tYnktbWF1cmljZS1sYXNjaGV0LWZyb20tcGV4ZWxzLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJUdW5uZWwgd2l0aCBtb3JuaW5nIGxpZ2h0XCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzUtcGhvdG8tYnktdmFuLWFuaC1uZ3V5ZW4tZnJvbS1wZXhlbHMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1vdW50YWluIGhvdXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzYtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiLFxuICB9LFxuXTtcblxuY29uc3QgYXBpID0gbmV3IEFQSSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiZWFhMDc5NDEtODVlOC00MTkxLWI1YzAtY2Y1ODM5NDAxYTc2XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSk7XG5cbmFwaS5nZXRJbml0aWFsQ2FyZHMoKSAudGhlbigoY2FyZHMpID0+IHtcbiAgY29uc29sZS5sb2coY2FyZHMpO1xufSk7XG5cbmNvbnN0IGxvZ29JbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2UtbG9nb1wiKTtcbmxvZ29JbWFnZS5zcmMgPSBsb2dvU1JDO1xuXG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlLWF2YXRhclwiKTtcbnByb2ZpbGVBdmF0YXIuc3JjID0gYXZhdGFyU1JDO1xuXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXQtcHJvZmlsZS1pbWFnZVwiKTtcbnByb2ZpbGVJbWFnZS5zcmMgPSBwcm9maWxlSW1hZ2VTcmM7XG5cbmNvbnN0IHBsdXNJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGx1c0ltYWdlXCIpO1xucGx1c0ltYWdlLnNyYyA9IHBsdXNJbWFnZVNSQztcblxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgY2FyZE1vZGFsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XG5jb25zdCBlZGl0Rm9ybUVsZW1lbnQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5jb25zdCBlZGl0UHJvZmlsZUNsb3NlQnV0dG9uID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5jb25zdCBlZGl0TW9kYWxOYW1lSW5wdXQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiXG4pO1xuY29uc3QgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpO1xuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcbmNvbnN0IGNhcmRGb3JtID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5jb25zdCBjYXJkU3VibWl0QnV0dG9uID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIik7XG5jb25zdCBjYXJkTW9kYWxDbG9zZUJ1dHRvbiA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XG5jb25zdCBjYXJkTmFtZUlucHV0ID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbmFtZS1pbnB1dFwiKTtcbmNvbnN0IGNhcmRMaW5rSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1saW5rLWlucHV0XCIpO1xuXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XG5jb25zdCBwcmV2aWV3TW9kYWxJbWFnZUVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuY29uc3QgcHJldmlld01vZGFsQ2FwdGlvbkVsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5jb25zdCBwcmV2aWV3TW9kYWxDbG9zZSA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XG5cbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gIGNvbnN0IGNhcmROYW1lRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gIGNvbnN0IGNhcmRDbG9zZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fY2xvc2UtYnV0dG9uXCIpO1xuXG4gIGNhcmROYW1lRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gIGNhcmRJbWFnZS5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XG5cbiAgY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fbGlrZWRcIik7XG4gIH0pO1xuXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xuICAgIHByZXZpZXdNb2RhbEltYWdlRWwuc3JjID0gZGF0YS5saW5rO1xuICAgIHByZXZpZXdNb2RhbENhcHRpb25FbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICBwcmV2aWV3TW9kYWxJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcbiAgfSk7XG5cbiAgY2FyZENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgLy8gY2FyZENsb3NlQnV0dG9uLmNsb3Nlc3QoXCIuY2FyZFwiKS5yZW1vdmUoKTtcbiAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5wcmV2aWV3TW9kYWxDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XG4gIGNvbnNvbGUubG9nKGhhbmRsZUVzY2FwZSk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGVsRWRpdEZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGVkaXRNb2RhbE5hbWVJbnB1dC52YWx1ZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZTtcbiAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGlucHV0VmFsdWVzID0geyBuYW1lOiBjYXJkTmFtZUlucHV0LnZhbHVlLCBsaW5rOiBjYXJkTGlua0lucHV0LnZhbHVlIH07XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaW5wdXRWYWx1ZXMpO1xuICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIGRpc2FibGVCdXR0b24oY2FyZFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xuICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gIGNsb3NlTW9kYWwoY2FyZE1vZGFsKTtcbn1cblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdE1vZGFsTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XG4gIHJlc2V0VmFsaWRhdGlvbihcbiAgICBlZGl0Rm9ybUVsZW1lbnQsXG4gICAgW2VkaXRNb2RhbE5hbWVJbnB1dCwgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dF0sXG4gICAge1xuICAgICAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gICAgICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxuICAgIH1cbiAgKTtcbiAgb3Blbk1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xufSk7XG5lZGl0UHJvZmlsZUNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG59KTtcbmNhcmRNb2RhbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBvcGVuTW9kYWwoY2FyZE1vZGFsKTtcbn0pO1xuY2FyZE1vZGFsQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VNb2RhbChjYXJkTW9kYWwpO1xufSk7XG5lZGl0Rm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kZWxFZGl0Rm9ybVN1Ym1pdCk7XG5jYXJkRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuaW5pdGlhbENhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcbiAgY2FyZHNMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjb25zdCBvcGVuTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLm1vZGFsX29wZW5lZFwiKTtcbiAgICBpZiAob3Blbk1vZGFsKSBjbG9zZU1vZGFsKG9wZW5Nb2RhbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlT3ZlcmxheUNsaWNrKGV2dCkge1xuICBpZiAoIWV2dC50YXJnZXQuY2xvc2VzdChcIi5tb2RhbF9fY29udGVudFwiKSkge1xuICAgIGNvbnN0IG9wZW5Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwubW9kYWxfb3BlbmVkXCIpO1xuICAgIGlmIChvcGVuTW9kYWwpIGNsb3NlTW9kYWwob3Blbk1vZGFsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU92ZXJsYXlDbGljayk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU92ZXJsYXlDbGljayk7XG59XG5cbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpOyIsImNsYXNzIEFQSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG59XG5cbmdldEluaXRpYWxDYXJkcygpIHtcbiAgICBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzXCIsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZWFhMDc5NDEtODVlOC00MTkxLWI1YzAtY2Y1ODM5NDAxYTc2XCJcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG59XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFQSTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbCIsImlucHV0RWwiLCJjb25maWciLCJlcnJvck1zZ0lEIiwiaWQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiYWRkIiwiZW5hYmxlVmFsaWRhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImlucHV0RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjb25zdHJ1Y3RvciIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwianNvbiIsImJhc2VVcmwiLCJjYXJkcyIsImNvbnNvbGUiLCJsb2ciLCJnZXRFbGVtZW50QnlJZCIsInNyYyIsImxvZ29TUkMiLCJhdmF0YXJTUkMiLCJwcm9maWxlSW1hZ2VTcmMiLCJwbHVzSW1hZ2VTUkMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImNhcmRNb2RhbEJ1dHRvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwiZWRpdFByb2ZpbGVNb2RhbCIsImVkaXRGb3JtRWxlbWVudCIsImVkaXRQcm9maWxlQ2xvc2VCdXR0b24iLCJlZGl0TW9kYWxOYW1lSW5wdXQiLCJlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0IiwiY2FyZFRlbXBsYXRlIiwiY2FyZHNMaXN0IiwiY2FyZE1vZGFsIiwiY2FyZEZvcm0iLCJjYXJkU3VibWl0QnV0dG9uIiwiY2FyZE1vZGFsQ2xvc2VCdXR0b24iLCJjYXJkTmFtZUlucHV0IiwiY2FyZExpbmtJbnB1dCIsInByZXZpZXdNb2RhbCIsInByZXZpZXdNb2RhbEltYWdlRWwiLCJwcmV2aWV3TW9kYWxDYXB0aW9uRWwiLCJnZXRDYXJkRWxlbWVudCIsImRhdGEiLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkTmFtZUVsIiwiY2FyZEltYWdlIiwiY2FyZExpa2VCdXR0b24iLCJjYXJkQ2xvc2VCdXR0b24iLCJuYW1lIiwibGluayIsImFsdCIsInRvZ2dsZSIsIm9wZW5Nb2RhbCIsImhhbmRsZUVzY2FwZSIsImV2dCIsImtleSIsImNsb3NlTW9kYWwiLCJoYW5kbGVPdmVybGF5Q2xpY2siLCJ0YXJnZXQiLCJjbG9zZXN0IiwibW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzZXRWYWxpZGF0aW9uIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInByZXBlbmQiLCJyZXNldCIsIml0ZW0iXSwic291cmNlUm9vdCI6IiJ9